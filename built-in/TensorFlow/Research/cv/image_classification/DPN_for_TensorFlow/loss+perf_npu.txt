WARNING:tensorflow:From /usr/local/Ascend/tfplugin/python/site-packages/npu_bridge/estimator/npu/npu_optimizer.py:266: The name tf.train.Optimizer is deprecated. Please use tf.compat.v1.train.Optimizer instead.

WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:33: The name tf.train.get_or_create_global_step is deprecated. Please use tf.compat.v1.train.get_or_create_global_step instead.

WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:42: The name tf.placeholder is deprecated. Please use tf.compat.v1.placeholder instead.

WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:47: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:143: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.keras.layers.Conv2D` instead.
WARNING:tensorflow:From /usr/local/python3.7.5/lib/python3.7/site-packages/tensorflow_core/python/layers/convolutional.py:424: Layer.apply (from tensorflow.python.keras.engine.base_layer) is deprecated and will be removed in a future version.
Instructions for updating:
Please use `layer.__call__` method instead.
WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:139: batch_normalization (from tensorflow.python.layers.normalization) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.BatchNormalization instead.  In particular, `tf.control_dependencies(tf.GraphKeys.UPDATE_OPS)` should not be used (consult the `tf.keras.layers.batch_normalization` documentation).
WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:196: max_pooling2d (from tensorflow.python.layers.pooling) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.MaxPooling2D instead.
WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:202: dropout (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dropout instead.
WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:62: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.Dense instead.
WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:65: The name tf.losses.softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.softmax_cross_entropy instead.

WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:65: The name tf.losses.Reduction is deprecated. Please use tf.compat.v1.losses.Reduction instead.

WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:66: The name tf.trainable_variables is deprecated. Please use tf.compat.v1.trainable_variables instead.

WARNING:tensorflow:From /usr/local/python3.7.5/lib/python3.7/site-packages/tensorflow_core/python/training/moving_averages.py:433: Variable.initialized_value (from tensorflow.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Use Variable.read_value. Variables in 2.X are initialized automatically both in eager and graph (inside tf.defun) contexts.
WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:75: The name tf.train.MomentumOptimizer is deprecated. Please use tf.compat.v1.train.MomentumOptimizer instead.

WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:77: The name tf.get_collection is deprecated. Please use tf.compat.v1.get_collection instead.

WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:77: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:82: The name tf.InteractiveSession is deprecated. Please use tf.compat.v1.InteractiveSession instead.

WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:83: The name tf.global_variables_initializer is deprecated. Please use tf.compat.v1.global_variables_initializer instead.

WARNING:tensorflow:From /home/sunjian/convert/DPN/DPN-tensorflow-master_npu_20210318200419/DPN.py:84: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

Found GPU Device Failed!
-------------------- epoch 0 --------------------
reduce learning rate = 0.0316227766016838 now
step: 1/5 time: 254.489s loss: 21.537096 acc: 0.1015625
step: 2/5 time: 8.529s loss: 21.44765 acc: 0.078125
step: 3/5 time: 6.489s loss: 21.36703 acc: 0.1015625
step: 4/5 time: 5.917s loss: 21.406965 acc: 0.125
step: 5/5 time: 6.358s loss: 21.510695 acc: 0.1015625
>> epoch: 1 time: 282.309s loss: 21.453888 acc: 0.1015625
